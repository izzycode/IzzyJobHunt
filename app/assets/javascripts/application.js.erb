// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// compiled file.
//
// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details
// about supported directives.
//
//= require jquery
//= require jquery_ujs
//= require twitter/bootstrap
//= require turbolinks
//= require_tree .



var ind_pub = <%= ENV['INDEED_NUMBER'] %>;
var ind_el = 'indJobContent';
var ind_pf = '';
var ind_q = 'Full Stack Web Developer';
var ind_l = 'south florida';
var ind_chnl = 'web';
var ind_n = 6;
var ind_d = 'https://www.indeed.com';
var ind_t = 50;
var ind_c = 30;
var ind_pgn = 1;
var ind_pgnCnt = 3;



function clearDefaults() {
  var formInputs = document.getElementById('indeed_jobform').elements;
  for(var i = 0; i < formInputs.length; i++) {
    if(formInputs[i].value == 'title, keywords' || formInputs[i].value == 'city, state, or zip') {
      formInputs[i].value = '';
    }
  }
}

// Indeed widget script
window.indeedJobroll=function(){
  var i=false;return{getJobs:function(g){
    var a=window,
    f=function(b){
      var c=String(document.cookie),
      d=c.indexOf(b+"=");
      if(d==-1)return"";
      var h=c.indexOf(";",d),
      e=c.indexOf(":",d);
      b=c.substring(d+b.length+1,h==-1?e==-1?c.length:e:e==-1?h:e<h?e:h);
      c=b.indexOf('"')==0?1:0;
      d=b.charAt(b.length-1)=='"'?b.length-1:b.length;
      return b.substring(c,d)
    }
    ("IND_RQ"),
    j=document.createElement("script"),
    k=document.getElementsByTagName("head")[0];
    j.async=true;
    j.src=ind_d+"/ads/jwidget.js?pub="+
    escape(ind_pub)+(a.ind_chnl?"&chnl="+ind_chnl:"")+"&el="+escape(ind_el)+(a.ind_pf?"&pf="+ind_pf:"")+(ind_q?"&q="+escape(ind_q):"")+(a.ind_l?"&l="+escape(ind_l):"")+(a.ind_n?"&n="+ind_n:"")+(f?"&lq="+escape(f):"")+"&lm="+(a.ind_t?ind_t:"")+"+"+(a.ind_c?ind_c:"")+(a.ind_nr||i?"&rtgt=0":"")+(g?"&s="+g:"&s=0")+(a.ind_pgn?"&pgn="+a.ind_pgn:"")+(a.ind_pgnCnt?"&pgnCnt="+a.ind_pgnCnt:"")+(a.ind_age?"&age="+a.ind_age:"")+(a.ind_snp?"&snp="+a.ind_snp:"")+(a.ind_iaTxt?"&iaTxt="+a.ind_iaTxt:"")+"&v=3";
    console.log(j);
    k.appendChild(j);
    return false
  },
  jobsCallback:function(g,a){
    console.log(f);
    var f=document.getElementById(g);
    if(f)if(a.indexOf('class="job"')===-1&&i===false){
      i=true;
      window.indeedJobroll.getJobs(0)
    } else f.innerHTML=a
  }}
}();
window.indeedJobroll.getJobs(0);
